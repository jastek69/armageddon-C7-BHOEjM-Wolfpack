# ‚òÅÔ∏è Class 7 Armageddon - Brotherhood of Evil jerMutants - Wolfpack

![AWS](https://img.shields.io/badge/AWS-Cloud-orange?style=for-the-badge&logo=amazon-aws&logoColor=white)
![Terraform](https://img.shields.io/badge/Terraform-%E2%89%A51.9-844FBA?style=for-the-badge&logo=terraform&logoColor=white)
![CloudFront](https://img.shields.io/badge/CloudFront-Edge_Security-yellow?style=for-the-badge&logo=amazon-aws)
![WAFv2](https://img.shields.io/badge/AWS_WAFv2-Real_Time_Logging-red?style=for-the-badge&logo=amazonaws)
![Bedrock](https://img.shields.io/badge/Amazon_Bedrock-Auto_IR-black?style=for-the-badge&logo=amazon-aws)
![Multi_Region](https://img.shields.io/badge/Multi_Region-Transit_Gateway-blue?style=for-the-badge)
![Compliance](https://img.shields.io/badge/Compliance-HIPAA_Inspired-purple?style=for-the-badge)
![Observability](https://img.shields.io/badge/Observability-CloudWatch_&_Bedrock-green?style=for-the-badge)
![Status](https://img.shields.io/badge/Status-Production_Grade-success?style=for-the-badge)

This repository contains links to repos of group members for multiple **Labs for Class 7 Armageddon (1a, 1b, 1c, 1d, 1e, 1f, 1g, 1h, 1i, 2a, 2b, 3a, 3b, and 4)**.  
Each LAB is tracked in its own branch with unique deliverables and tasks.

---

## GROUP MEMBER DELIVERABLES/REPOs

### **Group Co-Leader: T.I.Q.S**

| Lab                          | Deliverables                                                                                                  | Repo                                                                               |
|------------------------------|---------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| **Lab 1A**                   | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1a/README.md)                        | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1a)         |
| **Lab 1B/1C**                | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1b-1c/README.md)                     | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1b-1c)      |
| **Lab 1C (Bonus A)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-a/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-a) |
| **Lab 1C (Bonus B)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-b/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-b) |
| **Lab 1C (Bonus C)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-c/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-c) |
| **Lab 1C (Bonus D)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-d/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-d) |
| **Lab 1C (Bonus E)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-e/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-e) |
| **Lab 1C (Bonus F)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-f/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-f) |
| **Lab 1C (Bonus G)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-g/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-g) |
| **Lab 1C (Bonus G)**         | [scripts-results](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-g/scripts-results) | N/A                                                                                |
| **Lab 1C (Bonus H)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-h/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-h) |
| **Lab 1C (Bonus H)**         | [deliverables](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-h/deliverables)       | N/A                                                                                |
| **Lab 1C (Bonus I)**         | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-1c-bonus-i/README.md)                | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-1c-bonus-i) |
| **Lab 2A**                   | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-2a/README.md)                        | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-2a)         |
| **Lab 2B**                   | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-2b/README.md)                        | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-2b)         |
| **Lab 2B (BAM Challenge A)** | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-2b-bam-a/README.md)                  | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-2b-bam-a)   |
| **Lab 2B (BAM Challenge B)** | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-2b-bam-b/README.md)                  | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-2b-bam-b)   |
| **Lab 2B (BAM Challenge C)** | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-2b-bam-c/README.md)                  | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-2b-bam-c)   |
| **Lab 3A**                   | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-3a/README.md)                        | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-3a)         |
| **Lab 3B**                   | [README](https://github.com/tiqsclass6/aws-armageddon-class-7.0/blob/lab-3b/README.md)                        | [Repo](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-3b)         |
| **Lab 3B**                   | [audit-pack](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-3b/audit-pack)                   | N/A                                                                                |
| **Lab 3B**                   | [deliverables](https://github.com/tiqsclass6/aws-armageddon-class-7.0/tree/lab-3b/deliverables)               | N/A                                                                                |

### **Group Co-Leader: John Sweeney**

- Lab1A-B: [LAB1 DELIVERABLES](https://github.com/jastek69/armageddon-C7-LAB1C-H/tree/main/LAB1-DELIVERABLES)
- Lab1C-H: [LAB1C-H DELIVERABLES](https://github.com/jastek69/armageddon-C7-LAB1C-H/tree/main/LAB1-DELIVERABLES)
- Lab2A-B: [LAB2 - DELIVERABLES](https://github.com/jastek69/Armageddon-C7-SEIR_Foundations/tree/LAB2/LAB2-DELIVERABLES)
- Lab2A-B: Code: [LAB2 - Code](https://github.com/jastek69/Armageddon-C7-SEIR_Foundations)
- LAB3 - Deliverables: [LAB3 - DELIVERABLES](https://github.com/jastek69/Armageddon-C7-Lab3-SEIR_Foundations/tree/main)
- LAB3 - Code: [LAB3 - Code](https://github.com/jastek69/Armageddon-C7-Lab3-SEIR_Foundations/tree/main)

### **Member: Ernest Morris**

- Labs 1A-B: [Deliverables](https://github.com/jastek69/armageddon-C7-BHOEjM-Wolfpack.git)

### **Member: Michael Dale**

- Lab 1A through Lab 1C-Bonus-F: [Deliverables](https://github.com/MichaelDale1/Class-7-Armageddon-2026-Dale)

- ### **Member: Benji**

- Lab 1A through Lab 1C: [Deliverables](https://github.com/Newest-IT-Bro/Armageddon-repo.git)

---

## üåê LAB1

### LAB1A-B

#### Deliverables

- [tiqsclass6 - Overview](https://github.com/tiqsclass6)
- [John Sweeney - Deliverable](https://github.com/jastek69/Armageddon-C7-SEIR_Foundations/tree/LAB2/LAB1-DELIVERABLES)
- [Ernest Morris - Deliverables](https://github.com/jastek69/armageddon-C7-BHOEjM-Wolfpack.git)

### [Lab1a Explanation](https://github.com/BalericaAI/armageddon/blob/main/SEIR_Foundations/LAB1/1a_explanation.md?plain=1)

**Project Overview (What You Are Building)**  
In this lab, you will build a classic cloud application architecture:

- A compute layer running on an Amazon EC2 instance
- A managed relational database hosted on Amazon RDS
- Secure connectivity between the two using VPC networking and security groups
- Credential management using AWS Secrets Manager
- A simple application that writes and reads data from the database

### [Lab1b - explanation](https://github.com/BalericaAI/armageddon/blob/main/SEIR_Foundations/LAB1/1b_Incident_response.md?plain=1)

**Lab 1b ‚Äî Incident Response Scenario**  
Prerequisite: Lab 1a + Lab 1b infrastructure completed

#### **PART I ‚Äî Incident Scenario (What Messed Up)**

- **Incident Title**  
  Database Connectivity Failure ‚Äî Production Application Unavailable

- **Symptoms Reported**
  - Application intermittently returns errors
  - /list endpoint fails or hangs
  - No recent code changes
  - EC2 instance is still running

- **Constraints**
  - You may NOT:
    - Recreate EC2
    - Recreate RDS
    - Hardcode credentials

- **You MUST:**
  - Use logs
  - Use alarms
  - Use stored configuration values

#### **PART II ‚Äî Incident Injection (Group Leader / Auto-Grader)**

Choose one of the following to trigger the incident:

- **Option A ‚Äî Secret Drift (Recommended)**
  - Change DB password in Secrets Manager
  - Do not update the actual RDS password

- **Option B ‚Äî Network Isolation**
  - Remove EC2 security group from RDS inbound rule (TCP 3306)

- **Option C ‚Äî DB Interruption**
  - Stop RDS instance temporarily

Students are not told which failure was injected.

#### **PART III ‚Äî Monitoring & Alerting (SNS + PagerDuty Simulation)**

1. **SNS Alert Channel**
   - SNS Topic
   - Name: `lab-db-incidents`
   - `aws sns create-topic --name lab-db-incidents`
   - Email Subscription (PagerDuty Simulation)

     ```bash
     aws sns subscribe \
       --topic-arn <TOPIC_ARN> \
       --protocol email \
       --notification-endpoint your-email@example.com
     ```

   This simulates PagerDuty / OpsGenie paging an engineer.

2. **CloudWatch Alarm ‚Üí SNS**  
   **Alarm Concept**  
   Trigger when: DB connection errors ‚â• 3 in 5 minutes

   **Alarm Creation (example)**

   ```bash
   aws cloudwatch put-metric-alarm \
     --alarm-name lab-db-connection-failure \
     --metric-name DBConnectionErrors \
     --namespace Lab/RDSApp \
     --statistic Sum \
     --period 300 \
     --threshold 3 \
     --comparison-operator GreaterThanOrEqualToThreshold \
     --evaluation-periods 1 \
     --alarm-actions <SNS_TOPIC_ARN>
   ```

   **Expected Behavior**  
   - Alarm transitions to ALARM  
   - SNS notification sent  
   - Student receives alert email

#### **PART IV ‚Äî Mandatory Incident Runbook**

Students must follow this order. Deviations lose points.

##### **RUNBOOK SECTION 1 ‚Äî Acknowledge**

1.1 Confirm Alert

```bash
aws cloudwatch describe-alarms \
  --alarm-name lab-db-connection-failure \
  --query "MetricAlarms[].StateValue"
```

Expected: `ALARM`

##### **RUNBOOK SECTION 2 ‚Äî Observe**

2.1 Check Application Logs

```bash
aws logs filter-log-events \
  --log-group-name /aws/ec2/lab-rds-app \
  --filter-pattern "ERROR"
```

Expected: Clear DB connection failure messages

2.2 Identify Failure Type  
Students must classify:

- Credential failure?
- Network failure?
- Database availability failure?

This classification is graded.

##### **RUNBOOK SECTION 3 ‚Äî Validate Configuration Sources**

3.1 Retrieve Parameter Store Values

```bash
aws ssm get-parameters \
  --names /lab/db/endpoint /lab/db/port /lab/db/name \
  --with-decryption
```

Expected: Endpoint + port returned

3.2 Retrieve Secrets Manager Values

```bash
aws secretsmanager get-secret-value \
  --secret-id lab/rds/mysql
```

Expected: Username/password visible  
Compare against known-good state

##### **RUNBOOK SECTION 4 ‚Äî Containment**

4.1 Prevent Further Damage

- Do not restart EC2 blindly
- Do not rotate secrets again
- Do not redeploy infrastructure

Students must explicitly state:  
‚ÄúSystem state preserved for recovery.‚Äù

##### **RUNBOOK SECTION 5 ‚Äî Recovery**

Recovery Paths (Depends on Root Cause)

- If Credential Drift
  - Update RDS password to match Secrets Manager  
    OR
  - Update Secrets Manager to known-good value

- If Network Block
  - Restore EC2 security group access to RDS on 3306

- If DB Stopped
  - Start RDS and wait for available

##### **Verify Recovery**

```bash
curl http://<EC2_PUBLIC_IP>/list
```

Expected: Application returns data, no errors

##### **RUNBOOK SECTION 6 ‚Äî Post-Incident Validation**

6.1 Confirm Alarm Clears

```bash
aws cloudwatch describe-alarms \
  --alarm-name lab-db-connection-failure \
  --query "MetricAlarms[].StateValue"
```

Expected: `OK`

6.2 Confirm Logs Normalize

```bash
aws logs filter-log-events \
  --log-group-name /aws/ec2/lab-rds-app \
  --filter-pattern "ERROR"
```

Expected: No new errors

#### **PART V ‚Äî Grading Rubric (100 Points)**

| Category                          | Points |
|-----------------------------------|--------|
| Alarm acknowledged via CLI        | 10     |
| Correct failure classification    | 20     |
| Logs used correctly               | 15     |
| Parameter Store validated         | 10     |
| Secrets Manager validated         | 10     |
| Correct recovery action           | 20     |
| No redeploy / no guesswork        | 10     |
| Clear incident summary            | 5      |

#### **PART VI ‚Äî Required Incident Report (Short)**

Students must submit:

- Incident Summary
  - What failed?
  - How was it detected?
  - Root cause
  - Time to recovery

- Preventive Action
  - One improvement to reduce MTTR
  - One improvement to prevent recurrence

#### **PART VII ‚Äî What This Actually Teaches**

By completing this lab, students demonstrate:

- On-call discipline
- Root cause analysis
- Cloud-native recovery
- Proper secret handling
- Operational maturity

This is exactly what separates:  
‚ÄúI passed an AWS cert‚Äù  
from  
‚ÄúI can be trusted with production.‚Äù

## Lab 1C ‚Äî Terraform: EC2 ‚Üí RDS + Secrets/Params + Observability + Incident Alerts

### LAB1C-H

#### Deliverables For LAB1C-H

- [tiqsclass6 - Overview](https://github.com/tiqsclass6)
- [John Sweeney - Deliverables 1C-I](https://github.com/jastek69/armageddon-C7-LAB1C-H/tree/main/LAB1C-H-DELIVERABLES)

### Purpose

Modern companies do not build AWS by clicking around in the console.  
They use Infrastructure as Code (IaC) so environments are repeatable, reviewable, auditable, and recoverable.

This repo is intentionally incomplete:

- It declares required resources
- Students must configure the details (rules, policies, user_data, app logging, etc.)

### Requirements (must exist in Terraform)

- VPC, public/private subnets, IGW, NAT, routing
- EC2 app host + IAM role/profile
- RDS (private) + subnet group + SG with inbound from EC2 SG
- Parameter Store values (`/lab/db/*`)
- Secrets Manager secret (db creds)
- CloudWatch log group
- CloudWatch alarm (DBConnectionErrors >= 3 per 5 min)
- SNS topic + subscription

### Student Deliverables

- `terraform plan` output
- `terraform apply` evidence (outputs)
- CLI verification commands (from Lab 1b)
- Incident runbook execution notes (alarm fired + recovered)
